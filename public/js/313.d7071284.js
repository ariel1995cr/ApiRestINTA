"use strict";(self["webpackChunkquasarfront"]=self["webpackChunkquasarfront"]||[]).push([[313],{1313:(e,r,o)=>{o.r(r),o.d(r,{default:()=>z});var a=o(3673),l=o(2323),s=o(4632),n=o.n(s);const t=(0,a.HX)("data-v-d6d1b42a");(0,a.dD)("data-v-d6d1b42a");const i={class:"row justify-center fixed-center"},d=(0,a.Wm)("div",{class:"text-h6 text-dark text-center"}," Ingresa tus credenciales para acceder: ",-1),m=(0,a.Wm)("p",{class:"text-dark q-mt-md"},"Todavia no tenes tu usuario?",-1),u=(0,a.Wm)("div",{class:"text-h6 text-dark text-center"}," Completa los campos para registrarte: ",-1);(0,a.Cn)();const c=t(((e,r,o,s,c,p)=>{const w=(0,a.up)("q-img"),g=(0,a.up)("q-card-section"),b=(0,a.up)("q-separator"),k=(0,a.up)("q-input"),U=(0,a.up)("q-icon"),f=(0,a.up)("q-checkbox"),V=(0,a.up)("q-btn"),_=(0,a.up)("q-card");return(0,a.wg)(),(0,a.j4)("div",i,["login"==e.mode?((0,a.wg)(),(0,a.j4)(_,{key:0,dark:"",bordered:"",class:"bg-grey-1 my-card col-12 q-mt-lg"},{default:t((()=>[(0,a.Wm)(w,{src:n(),ratio:1,fit:"contain",height:"150px"}),(0,a.Wm)(g,null,{default:t((()=>[d])),_:1}),(0,a.Wm)(b,{dark:"",inset:""}),(0,a.Wm)(g,null,{default:t((()=>[(0,a.Wm)(k,{modelValue:e.user.email,"onUpdate:modelValue":r[1]||(r[1]=r=>e.user.email=r),class:"q-mb-md",outlined:"",label:"Email"},null,8,["modelValue"]),(0,a.Wm)(k,{modelValue:e.user.password,"onUpdate:modelValue":r[3]||(r[3]=r=>e.user.password=r),outlined:"",label:"Contraseña",type:e.isPwd?"password":"text"},{append:t((()=>[(0,a.Wm)(U,{name:e.isPwd?"visibility_off":"visibility",class:"cursor-pointer",onClick:r[2]||(r[2]=r=>e.isPwd=!e.isPwd)},null,8,["name"])])),_:1},8,["modelValue","type"]),(0,a.Wm)(f,{modelValue:e.user.aceptoTerminos,"onUpdate:modelValue":r[4]||(r[4]=r=>e.user.aceptoTerminos=r),class:"text-dark",label:"Acepto Terminos y condiciones",color:"green"},null,8,["modelValue"]),(0,a.Wm)(V,{class:"full-width q-mt-md",color:"green",label:"Ingresar",onClick:r[5]||(r[5]=r=>e.login(e.user))}),m,(0,a.Wm)(V,{class:"full-width",color:"blue",label:"Registrarme",onClick:e.registerPage},null,8,["onClick"])])),_:1})])),_:1})):((0,a.wg)(),(0,a.j4)(_,{key:1,dark:"",bordered:"",class:"bg-grey-1 my-card col-12 q-mt-lg"},{default:t((()=>[(0,a.Wm)(g,null,{default:t((()=>[(0,a.Wm)(V,{icon:"arrow_back",color:"blue",label:"Volver",onClick:e.loginPage},null,8,["onClick"]),u])),_:1}),(0,a.Wm)(b,{dark:"",inset:""}),(0,a.Wm)(g,null,{default:t((()=>[(0,a.Wm)(k,{outlined:"",modelValue:e.newUser.dni,"onUpdate:modelValue":r[6]||(r[6]=r=>e.newUser.dni=r),label:"DNI",error:e.errors.hasOwnProperty("dni")},{error:t((()=>[(0,a.Uk)((0,l.zw)(e.errors.dni[0]),1)])),_:1},8,["modelValue","error"]),(0,a.Wm)(k,{outlined:"",modelValue:e.newUser.nombre,"onUpdate:modelValue":r[7]||(r[7]=r=>e.newUser.nombre=r),label:"Nombre",error:e.errors.hasOwnProperty("nombre")},{error:t((()=>[(0,a.Uk)((0,l.zw)(e.errors.nombre[0]),1)])),_:1},8,["modelValue","error"]),(0,a.Wm)(k,{outlined:"",modelValue:e.newUser.apellido,"onUpdate:modelValue":r[8]||(r[8]=r=>e.newUser.apellido=r),label:"Apellido",error:e.errors.hasOwnProperty("apellido")},{error:t((()=>[(0,a.Uk)((0,l.zw)(e.errors.apellido[0]),1)])),_:1},8,["modelValue","error"]),(0,a.Wm)(k,{outlined:"",modelValue:e.newUser.email,"onUpdate:modelValue":r[9]||(r[9]=r=>e.newUser.email=r),label:"Email",error:e.errors.hasOwnProperty("email")},{error:t((()=>[(0,a.Uk)((0,l.zw)(e.errors.email[0]),1)])),_:1},8,["modelValue","error"]),(0,a.Wm)(k,{outlined:"",modelValue:e.newUser.password,"onUpdate:modelValue":r[10]||(r[10]=r=>e.newUser.password=r),label:"Contraseña",error:e.errors.hasOwnProperty("password")},{error:t((()=>[(0,a.Uk)((0,l.zw)(e.errors.password[0]),1)])),_:1},8,["modelValue","error"]),(0,a.Wm)(k,{outlined:"",modelValue:e.newUser.password_confirmation,"onUpdate:modelValue":r[11]||(r[11]=r=>e.newUser.password_confirmation=r),label:"Confirmar contraseña",error:e.errors.hasOwnProperty("password_confirmation")},{error:t((()=>[(0,a.Uk)((0,l.zw)(e.errors.password_confirmation[0]),1)])),_:1},8,["modelValue","error"]),(0,a.Wm)(V,{onClick:r[12]||(r[12]=r=>e.registrarUsuario(e.newUser)),class:"full-width q-mt-sm",color:"blue",label:"Registrarme"})])),_:1})])),_:1}))])}));var p=o(1959),w=o(515),g=o.n(w),b=o(5474),k=o(8825),U=o(589);const f=()=>{const e=(0,k.Z)(),r=(0,p.iH)(null);function o(r){r.aceptoTerminos?b.api.post("/api/v1/admin/login",g()({},r)).then((e=>{b.api.defaults.headers.common.Authorization="Bearer "+e.data.access_token,U.Z.set("user",JSON.stringify(e.data.usuario)),U.Z.set("access_token",`Bearer ${e.data.access_token}`),this.$router.push("/admin")})).catch((r=>{console.log(r),e.notify({color:"negative",position:"top",message:r.response.data.message,icon:"report_problem"})})):e.notify({color:"negative",position:"top",message:"Debe aceptar los terminos y condiciones.",icon:"report_problem"})}return{dataAuth:r,login:o}};var V=o(6151);const _=(0,a.aZ)({name:"Login",setup(){const e=(0,p.qj)({email:"",password:"",aceptoTerminos:!1}),r=(0,p.qj)({nombre:"",email:"",apellido:"",dni:"",password:"",password_confirmation:""}),o=(0,p.iH)("login"),a=()=>{o.value="register"},l=()=>{o.value="login"},s=()=>{r.nombre="",r.email="",r.apellido="",r.dni="",r.password="",r.password_confirmation=""},n=async()=>{const e=await u(r);e&&(l(),s())},{dataAuth:t,login:i}=f(),{errors:d,data:m,createUsuario:u}=(0,V.w)();return{user:e,dataAuth:t,login:i,mode:o,newUser:r,errors:d,data:m,createUsuario:u,registerPage:a,loginPage:l,isPwd:(0,p.iH)(!0),registrarUsuario:n}}});var h=o(151),W=o(4027),y=o(5589),v=o(5869),q=o(4842),C=o(4554),P=o(5735),x=o(8240),Z=o(7518),Q=o.n(Z);_.render=c,_.__scopeId="data-v-d6d1b42a";const z=_;Q()(_,"components",{QCard:h.Z,QImg:W.Z,QCardSection:y.Z,QSeparator:v.Z,QInput:q.Z,QIcon:C.Z,QCheckbox:P.Z,QBtn:x.Z})}}]);