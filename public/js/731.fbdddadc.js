"use strict";(self["webpackChunkquasarfront"]=self["webpackChunkquasarfront"]||[]).push([[731],{2584:(e,a,n)=>{n.d(a,{E:()=>d});var o=n(515),t=n.n(o),i=n(5474),s=n(1959),l=n(6249),r=n(6394),c=n(8825);const d=()=>{const e=(0,c.Z)(),a=(0,s.iH)([]),n=async()=>{l.Z.show({spinner:r.Z}),await i.api.get("/api/v1/admin/estaciones").then((e=>{a.value=e.data,a.value.forEach((e=>{e.position={lat:Number(e.Latitud),lng:Number(e.Longitud)}}))})).catch((a=>{console.log(a),e.notify({color:"negative",position:"top",message:"Contactese con el administrador.",icon:"report_problem"})})),e.loading.hide()},o=async n=>{l.Z.show({spinner:r.Z}),await i.api.get("/api/v1/admin/estacion/"+n).then((e=>{a.value=e.data})).catch((a=>{console.log(a),e.notify({color:"negative",position:"top",message:"Contactese con el administrador.",icon:"report_problem"})})),l.Z.hide()},d=async a=>{l.Z.show({spinner:r.Z});const n=await i.api.post("/api/v1/admin/estacion/"+a.value.id,t()({},a.value)).then((n=>(a.value=n.data,e.notify({message:n.data.msg,type:"positive"}),!0))).catch((a=>(console.log(a),e.notify({color:"negative",position:"top",message:"Contactese con el administrador.",icon:"report_problem"}),!1)));return l.Z.hide(),n};return{data:a,getEstaciones:n,getEstacion:o,updateEstacion:d}}},7731:(e,a,n)=>{n.r(a),n.d(a,{default:()=>C});var o=n(3673),t=n(2323);const i={class:"row justify-center"},s={class:"col-4"},l={class:"text-h4"},r={class:"row justify-end q-mx-lg"},c={class:"col-12 col-md-6"},d=(0,o.Wm)("br",null,null,-1),u=(0,o.Wm)("br",null,null,-1),p={class:"col-12 col-md-6"};function m(e,a,n,m,g,v){const w=(0,o.up)("GMapInfoWindow"),f=(0,o.up)("GMapMarker"),h=(0,o.up)("GMapMap"),b=(0,o.up)("q-table"),k=(0,o.up)("q-page");return(0,o.wg)(),(0,o.j4)(k,null,{default:(0,o.w5)((()=>[(0,o.Wm)("div",i,[(0,o.Wm)("div",s,[(0,o.Wm)("div",l," Bienvenido "+(0,t.zw)(e.usuario.nombre)+" "+(0,t.zw)(e.usuario.apellido),1)])]),(0,o.Wm)("div",r,[(0,o.Wm)("div",c,[(0,o.Wm)(h,{center:{lat:-44,lng:-69},zoom:6,"map-type-id":"terrain",style:{width:"90%",height:"100%"}},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.j4)(o.HY,null,(0,o.Ko)(e.data,((a,n)=>((0,o.wg)(),(0,o.j4)(f,{key:n,position:a.position,clickable:!0,onClick:n=>e.openMarker(a.Código)},{default:(0,o.w5)((()=>[(0,o.Wm)(w,{opened:e.openedMarkerID===a.Código},{default:(0,o.w5)((()=>[(0,o.Wm)("div",null,[(0,o.Wm)("h4",null,(0,t.zw)(a.Denominación),1),(0,o.Wm)("span",null,[(0,o.Uk)(" Latitud: "+(0,t.zw)(a.Latitud)+" ",1),d,(0,o.Uk)(" Longitud: "+(0,t.zw)(a.Longitud)+" ",1),u])])])),_:2},1032,["opened"])])),_:2},1032,["position","onClick"])))),128))])),_:1})]),(0,o.Wm)("div",p,[(0,o.Wm)(b,{title:"Listado de estaciones",dense:"",rows:e.data,columns:e.columns,"row-key":"Código",pagination:{rowsPerPage:10},onRowClick:e.verEstacion},null,8,["rows","columns","onRowClick"])])])])),_:1})}var g=n(1959),v=n(589),w=n(2584),f=n(9582);const h=(0,o.aZ)({name:"PageIndex",setup(){const e=(0,f.tv)(),a=JSON.parse(v.Z.getItem("user")),{data:n,getEstaciones:t}=(0,w.E)(),i=(a,n)=>{e.push({name:"verEstacion",params:{id:n.Código}})},s=(0,g.iH)(null),l=e=>{s.value=e},r=[{name:"Denominación",align:"left",label:"Denominación",field:"Denominación",sortable:!0},{name:"Latitud",align:"left",label:"Latitud",field:"Latitud",sortable:!0},{name:"Longitud",align:"left",label:"Longitud",field:"Longitud"}];return(0,o.bv)((async()=>{await t(),console.log(n)})),{usuario:a,data:n,columns:r,verEstacion:i,openMarker:l,openedMarkerID:s}}});var b=n(4379),k=n(6429),y=n(7518),W=n.n(y);h.render=m;const C=h;W()(h,"components",{QPage:b.Z,QTable:k.Z})}}]);