"use strict";(self["webpackChunkquasarfront"]=self["webpackChunkquasarfront"]||[]).push([[331],{9331:(e,r,a)=>{a.r(r),a.d(r,{default:()=>E});var o=a(3673),l=a(2323),s=a(4632),t=a.n(s),n=a(2170),i=a.n(n);const d=(0,o.HX)("data-v-ab5f24c0");(0,o.dD)("data-v-ab5f24c0");const c={class:"row justify-center fixed-center"},m=(0,o.Wm)("div",{class:"text-h6 text-dark text-center"}," Ingresa tus credenciales para acceder: ",-1),u=(0,o.Wm)("p",{class:"text-dark q-mt-md"},"Todavia no tenes tu usuario?",-1),p=(0,o.Wm)("div",{class:"text-h6 text-dark text-center"}," Completa los campos para registrarte: ",-1),w={key:0,class:"text-red-14"};(0,o.Cn)();const g=d(((e,r,a,s,n,g)=>{const h=(0,o.up)("q-img"),b=(0,o.up)("q-card-section"),f=(0,o.up)("q-separator"),k=(0,o.up)("q-input"),U=(0,o.up)("q-icon"),V=(0,o.up)("q-checkbox"),_=(0,o.up)("q-btn"),y=(0,o.up)("q-card"),W=(0,o.up)("vueRecaptcha");return(0,o.wg)(),(0,o.j4)("div",c,["login"==e.mode?((0,o.wg)(),(0,o.j4)(y,{key:0,dark:"",bordered:"",class:"bg-grey-1 my-card col-12 q-mt-lg"},{default:d((()=>[(0,o.Wm)(h,{src:t(),ratio:1,fit:"contain",height:"150px"}),(0,o.Wm)(b,null,{default:d((()=>[m])),_:1}),(0,o.Wm)(f,{dark:"",inset:""}),(0,o.Wm)(b,null,{default:d((()=>[(0,o.Wm)(k,{modelValue:e.user.email,"onUpdate:modelValue":r[1]||(r[1]=r=>e.user.email=r),class:"q-mb-md",outlined:"",label:"Email"},null,8,["modelValue"]),(0,o.Wm)(k,{modelValue:e.user.password,"onUpdate:modelValue":r[3]||(r[3]=r=>e.user.password=r),outlined:"",label:"Contraseña",type:e.isPwd?"password":"text"},{append:d((()=>[(0,o.Wm)(U,{name:e.isPwd?"visibility_off":"visibility",class:"cursor-pointer",onClick:r[2]||(r[2]=r=>e.isPwd=!e.isPwd)},null,8,["name"])])),_:1},8,["modelValue","type"]),(0,o.Wm)(V,{modelValue:e.user.aceptoTerminos,"onUpdate:modelValue":r[4]||(r[4]=r=>e.user.aceptoTerminos=r),class:"text-dark",label:"Acepto Terminos y condiciones",color:"green"},null,8,["modelValue"]),(0,o.Wm)(_,{class:"full-width q-mt-md",color:"green",label:"Ingresar",onClick:r[5]||(r[5]=r=>e.login(e.user))}),u,(0,o.Wm)(_,{class:"full-width",color:"blue",label:"Registrarme",onClick:e.registerPage},null,8,["onClick"])])),_:1}),(0,o.Wm)(h,{src:i(),class:"q-mx-sm",ratio:1,fit:"contain",height:"100px"})])),_:1})):((0,o.wg)(),(0,o.j4)(y,{key:1,dark:"",bordered:"",class:"bg-grey-1 my-card col-12 q-mt-lg"},{default:d((()=>[(0,o.Wm)(b,null,{default:d((()=>[(0,o.Wm)(_,{icon:"arrow_back",color:"blue",label:"Volver",onClick:e.loginPage},null,8,["onClick"]),p])),_:1}),(0,o.Wm)(f,{dark:"",inset:""}),(0,o.Wm)(b,null,{default:d((()=>{var a;return[(0,o.Wm)(k,{outlined:"",modelValue:e.newUser.dni,"onUpdate:modelValue":r[6]||(r[6]=r=>e.newUser.dni=r),label:"DNI",error:e.errors.hasOwnProperty("dni")},{error:d((()=>[(0,o.Uk)((0,l.zw)(e.errors.dni[0]),1)])),_:1},8,["modelValue","error"]),(0,o.Wm)(k,{outlined:"",modelValue:e.newUser.nombre,"onUpdate:modelValue":r[7]||(r[7]=r=>e.newUser.nombre=r),label:"Nombre",error:e.errors.hasOwnProperty("nombre")},{error:d((()=>[(0,o.Uk)((0,l.zw)(e.errors.nombre[0]),1)])),_:1},8,["modelValue","error"]),(0,o.Wm)(k,{outlined:"",modelValue:e.newUser.apellido,"onUpdate:modelValue":r[8]||(r[8]=r=>e.newUser.apellido=r),label:"Apellido",error:e.errors.hasOwnProperty("apellido")},{error:d((()=>[(0,o.Uk)((0,l.zw)(e.errors.apellido[0]),1)])),_:1},8,["modelValue","error"]),(0,o.Wm)(k,{outlined:"",modelValue:e.newUser.email,"onUpdate:modelValue":r[9]||(r[9]=r=>e.newUser.email=r),label:"Email",error:e.errors.hasOwnProperty("email")},{error:d((()=>[(0,o.Uk)((0,l.zw)(e.errors.email[0]),1)])),_:1},8,["modelValue","error"]),(0,o.Wm)(k,{outlined:"",modelValue:e.newUser.password,"onUpdate:modelValue":r[10]||(r[10]=r=>e.newUser.password=r),label:"Contraseña",error:e.errors.hasOwnProperty("password")},{error:d((()=>[(0,o.Uk)((0,l.zw)(e.errors.password[0]),1)])),_:1},8,["modelValue","error"]),(0,o.Wm)(k,{outlined:"",modelValue:e.newUser.password_confirmation,"onUpdate:modelValue":r[11]||(r[11]=r=>e.newUser.password_confirmation=r),label:"Confirmar contraseña",error:e.errors.hasOwnProperty("password_confirmation")},{error:d((()=>[(0,o.Uk)((0,l.zw)(e.errors.password_confirmation[0]),1)])),_:1},8,["modelValue","error"]),(0,o.Wm)(W,{siteKey:"6LdkE94cAAAAAMXIDQI5lcXHGhII13pp2zUg-zLY",class:"q-mb-md",size:"normal",theme:"light",tabindex:0,onVerify:e.recaptchaVerified,onExpire:e.recaptchaExpired,onFail:e.recaptchaFailed,ref:"vueRecaptcha"},null,8,["onVerify","onExpire","onFail"]),null!==(a=e.errores)&&void 0!==a&&a.recaptcha?((0,o.wg)(),(0,o.j4)("span",w,(0,l.zw)(e.errores.recaptcha[0]),1)):(0,o.kq)("",!0),(0,o.Wm)(_,{onClick:r[12]||(r[12]=r=>e.registrarUsuario(e.newUser)),class:"full-width q-mt-sm",color:"blue",label:"Registrarme"})]})),_:1})])),_:1}))])}));var h=a(1959),b=a(515),f=a.n(b),k=a(5474),U=a(8825),V=a(589);const _=()=>{const e=(0,U.Z)(),r=(0,h.iH)(null);function a(r){r.aceptoTerminos?k.api.post("/api/v1/admin/login",f()({},r)).then((e=>{k.api.defaults.headers.common.Authorization="Bearer "+e.data.access_token,V.Z.set("user",JSON.stringify(e.data.usuario)),V.Z.set("access_token",`Bearer ${e.data.access_token}`),this.$router.push("/admin")})).catch((r=>{console.log(r),e.notify({color:"negative",position:"top",message:r.response.data.message,icon:"report_problem"})})):e.notify({color:"negative",position:"top",message:"Debe aceptar los terminos y condiciones.",icon:"report_problem"})}return{dataAuth:r,login:a}};var y=a(6151),W=a(1778);const v=(0,o.aZ)({name:"Login",components:{vueRecaptcha:W.Z},setup(){const e=(0,h.qj)({email:"",password:"",aceptoTerminos:!1}),r=(0,h.qj)({nombre:"",email:"",apellido:"",dni:"",password:"",password_confirmation:"",recaptcha:""}),a=(0,h.iH)("login"),o=()=>{a.value="register"},l=()=>{a.value="login"},s=()=>{r.nombre="",r.email="",r.apellido="",r.dni="",r.password="",r.password_confirmation="",r.recaptcha=""},t=async()=>{const e=await m(r);e&&(l(),s())},{dataAuth:n,login:i}=_(),{errors:d,data:c,createUsuario:m}=(0,y.w)(),u=e=>{r.recaptcha=e},p=()=>{this.$refs.vueRecaptcha.reset()},w=()=>{};return{user:e,dataAuth:n,login:i,mode:a,newUser:r,errors:d,data:c,createUsuario:m,registerPage:o,loginPage:l,isPwd:(0,h.iH)(!0),registrarUsuario:t,recaptchaVerified:u,recaptchaExpired:p,recaptchaFailed:w}}});var q=a(151),x=a(4027),C=a(5589),P=a(5869),Z=a(4842),z=a(4554),A=a(5735),I=a(8240),Q=a(7518),j=a.n(Q);v.render=g,v.__scopeId="data-v-ab5f24c0";const E=v;j()(v,"components",{QCard:q.Z,QImg:x.Z,QCardSection:C.Z,QSeparator:P.Z,QInput:Z.Z,QIcon:z.Z,QCheckbox:A.Z,QBtn:I.Z})}}]);