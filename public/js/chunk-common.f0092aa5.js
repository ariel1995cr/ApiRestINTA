(self["webpackChunkquasarfront"]=self["webpackChunkquasarfront"]||[]).push([[64],{2584:(e,a,t)=>{"use strict";t.d(a,{E:()=>d});var i=t(515),o=t.n(i),l=t(5474),s=t(1959),n=t(6249),r=t(6394),c=t(8825);const d=()=>{const e=(0,c.Z)(),a=(0,s.iH)([]),t=async()=>{n.Z.show({spinner:r.Z}),await l.api.get("/api/v1/admin/estaciones").then((e=>{a.value=e.data,a.value.forEach((e=>{e.position={lat:Number(e.Latitud),lng:Number(e.Longitud)}}))})).catch((a=>{console.log(a),e.notify({color:"negative",position:"top",message:"Contactese con el administrador.",icon:"report_problem"})})),e.loading.hide()},i=async t=>{n.Z.show({spinner:r.Z}),await l.api.get("/api/v1/admin/estacion/"+t).then((e=>{a.value=e.data})).catch((a=>{console.log(a),e.notify({color:"negative",position:"top",message:"Contactese con el administrador.",icon:"report_problem"})})),n.Z.hide()},d=async a=>{n.Z.show({spinner:r.Z});const t=await l.api.post("/api/v1/admin/estacion/"+a.value.id,o()({},a.value)).then((t=>(a.value=t.data,e.notify({message:t.data.msg,type:"positive"}),!0))).catch((a=>(console.log(a),e.notify({color:"negative",position:"top",message:"Contactese con el administrador.",icon:"report_problem"}),!1)));return n.Z.hide(),t};return{data:a,getEstaciones:t,getEstacion:i,updateEstacion:d}}},6151:(e,a,t)=>{"use strict";t.d(a,{w:()=>d});var i=t(515),o=t.n(i),l=t(5474),s=t(1959),n=t(6249),r=t(6394),c=t(8825);const d=()=>{const e=(0,c.Z)(),a=(0,s.iH)({}),t=(0,s.iH)(!1),i=(0,s.iH)([]),d=async a=>{n.Z.show({spinner:r.Z});const s=await l.api.post("/api/v1/admin/user",o()({},a)).then((a=>(t.value=!1,i.value=[],e.notify({message:a.data.msg,type:"positive"}),!0))).catch((a=>(a.value=!0,i.value=a.response.data.errors,e.notify({type:"negative",message:a.response.data.message}),!1)));return n.Z.hide(),s},m=async(t=null)=>{let o="";o=null==t?"/api/v1/admin/user/":"/api/v1/admin/user/"+JSON.stringify(t),await l.api.get(o).then((e=>{a.value.data=e.data.data,a.value.current_page=e.data.current_page,a.value.total=e.data.total,a.value.next_page=e.data.next_page_url,a.value.prev_page=e.data.prev_page_url,a.value.links=e.data.links})).catch((a=>{console.log(a),e.notify({color:"negative",position:"top",message:"Contactese con el administrador.",icon:"report_problem"}),i.value=a.response.data.errors}))},u=async(a,s)=>{n.Z.show({spinner:r.Z});const c=await l.api.put("/api/v1/admin/user/"+s,o()({},a)).then((a=>(t.value=!1,i.value=[],e.notify({message:a.data.msg,type:"positive"}),!0))).catch((a=>(a.value=!0,i.value=a.response.data.errors,e.notify({type:"negative",message:a.response.data.message}),!1)));return n.Z.hide(),c},p=async a=>{const o=await l.api.delete("/api/v1/admin/user/"+a).then((a=>(t.value=!1,i.value=[],e.notify({message:a.data.msg,type:"positive"}),!0))).catch((a=>(a.value=!0,i.value=a.response.data.errors,e.notify({type:"negative",message:a.response.data.message}),!1)));return o};return{createUsuario:d,data:a,errors:i,getUsuarios:m,updateUsuario:u,borrarUsuario:p}}},8709:(e,a,t)=>{"use strict";t.d(a,{Z:()=>L});var i=t(3673),o=t(8880),l=t(2323);const s=(0,i.HX)("data-v-4fe79328");(0,i.dD)("data-v-4fe79328");const n={class:"row q-pa-lg justify-center"},r=(0,i.Wm)("div",{class:"text-subtitle2 text-capitalize"}," Temperatura Media ",-1),c={class:"text-h6 text-left"},d=(0,i.Wm)("div",{class:"text-subtitle2"}," Velocidad Viento Media ",-1),m={class:"text-h6 text-left"},u=(0,i.Wm)("div",{class:"text-subtitle2 text-left"}," Humedad Media ",-1),p={class:"text-h6 text-left"},v=(0,i.Wm)("div",{class:"text-subtitle2 text-left"}," Presion Barometrica Media ",-1),f={class:"text-h6 text-left"},g=(0,i.Wm)("div",{class:"text-subtitle2 text-left"}," Precipitacion Media ",-1),x={class:"text-h6 text-left"},y={class:"col-12 q-mt-lg",ref:"chart"},h={class:"col-12 col-md-6 q-mt-lg",ref:"limnimetroRef"},b={class:"col-12 col-md-6  q-mt-lg",ref:"bateriaRef"},W={class:"col-12 col-md-6  q-mt-lg",ref:"temperaturaRef"},_={class:"col-12 col-md-6  q-mt-lg",ref:"humedadRef"},Z={class:"col-12 col-md-6  q-mt-lg",ref:"probLluviaRef"},w={class:"col-12 col-md-6  q-mt-lg",ref:"velocidadVientoRef"},H={class:"col-12 col-md-6  q-mt-lg",ref:"presionBarometricaRef"},q={class:"col-12 col-md-6  q-mt-lg",ref:"radiacionSolarRef"},P={key:1,class:"row justify-center"};(0,i.Cn)();const k=s(((e,a,t,k,R,z)=>{const C=(0,i.up)("q-card-section"),V=(0,i.up)("q-card"),B=(0,i.up)("q-spinner-dots");return e.mediciones.columns?((0,i.wg)(),(0,i.j4)(o.uT,{key:0,appear:"","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"},{default:s((()=>[(0,i.Wm)("div",n,[(0,i.Wm)(V,{bordered:"",flat:"",class:"my-card col-4 col-md-2",style:{"max-height":"150px"}},{default:s((()=>[(0,i.Wm)(C,{horizontal:""},{default:s((()=>[(0,i.Wm)(C,{class:"text-left"},{default:s((()=>[r,(0,i.Wm)("p",c,(0,l.zw)(e.mediciones.mediaTemperatura),1)])),_:1})])),_:1})])),_:1}),(0,i.Wm)(V,{bordered:"",flat:"",class:"my-card col-4 col-md-2 q-ml-lg",style:{"max-height":"150px"}},{default:s((()=>[(0,i.Wm)(C,{horizontal:""},{default:s((()=>[(0,i.Wm)(C,{class:"text-left"},{default:s((()=>[d,(0,i.Wm)("p",m,(0,l.zw)(e.mediciones.mediaViento),1)])),_:1})])),_:1})])),_:1}),(0,i.Wm)(V,{bordered:"",flat:"",class:"my-card col-4 col-md-2 q-px-lg-xl q-ml-lg",style:{"max-height":"150px"}},{default:s((()=>[(0,i.Wm)(C,{horizontal:""},{default:s((()=>[(0,i.Wm)(C,{class:"text-left"},{default:s((()=>[u,(0,i.Wm)("p",p,(0,l.zw)(e.mediciones.mediaHumedad),1)])),_:1})])),_:1})])),_:1}),(0,i.Wm)(V,{bordered:"",flat:"",class:"my-card col-4 col-md-2 q-px-lg-xl q-ml-lg",style:{"max-height":"150px"}},{default:s((()=>[(0,i.Wm)(C,{horizontal:""},{default:s((()=>[(0,i.Wm)(C,{class:"text-left"},{default:s((()=>[v,(0,i.Wm)("p",f,(0,l.zw)(e.mediciones.mediaPresionBarometrica),1)])),_:1})])),_:1})])),_:1}),(0,i.Wm)(V,{bordered:"",flat:"",class:"my-card col-4 col-md-2 q-px-lg-xl q-ml-lg",style:{"max-height":"150px"}},{default:s((()=>[(0,i.Wm)(C,{horizontal:""},{default:s((()=>[(0,i.Wm)(C,{class:"text-left"},{default:s((()=>[g,(0,i.Wm)("p",x,(0,l.zw)(e.mediciones.mediaPrecipitacion),1)])),_:1})])),_:1})])),_:1}),(0,i.Wm)("div",y,null,512),(0,i.Wm)("div",h,null,512),(0,i.Wm)("div",b,null,512),(0,i.Wm)("div",W,null,512),(0,i.Wm)("div",_,null,512),(0,i.Wm)("div",Z,null,512),(0,i.Wm)("div",w,null,512),(0,i.Wm)("div",H,null,512),(0,i.Wm)("div",q,null,512)])])),_:1})):((0,i.wg)(),(0,i.j4)("div",P,[(0,i.Wm)(B,{size:"xl",color:"primary"})]))}));var R=t(1959),z=t(4130),C=t(5474),V=t(8825);const B=()=>{const e=(0,V.Z)(),a=(0,R.iH)({columns:null,mediaTemperatura:"-",mediaViento:"-",mediaHumedad:"-",mediaPresionBarometrica:"-",mediaPrecipitacion:"-",precipitacion:[]}),t=async(t,i=null)=>{await C.api.get(`/api/v1/admin/estacion/${t}/estadistica`).then((e=>{a.value.columns=e.data.data.columns,a.value.mediaTemperatura=e.data.mediaTemperatura,a.value.mediaViento=e.data.mediaViento,a.value.mediaHumedad=e.data.mediaHumedad,a.value.mediaPresionBarometrica=e.data.mediaPresionBarometrica,a.value.mediaPrecipitacion=e.data.mediaPrecipitacion})).catch((a=>{console.log(a),e.notify({color:"negative",position:"top",message:"Contactese con el administrador.",icon:"report_problem"})}))};return{data:a,getHistoricoMediciones:t}},M=(0,i.aZ)({name:"StaticsDashboard",props:{estacion:{type:Number,required:!1}},setup(e){const{data:a,getHistoricoMediciones:t}=B(),o=(0,R.iH)(null),l=(0,R.iH)(null),s=(0,R.iH)(null),n=(0,R.iH)(null),r=(0,R.iH)(null),c=(0,R.iH)(null),d=(0,R.iH)(null),m=(0,R.iH)(null),u=(0,R.iH)(null),p=(0,R.iH)(!1);(0,i.bv)((async()=>{await v()}));const v=async()=>{p.value=!0,await t(e.estacion,10),z.ZP.generate({bindto:o.value,data:{x:"x",columns:a.value.columns,type:(0,z.Nb)(),types:{"Presión barometrica":(0,z.SO)()}},axis:{x:{type:"timeseries",tick:{fit:!0,multiline:!1,autorotate:!0,rotate:25,format:"%e %b %y"}}}}),a.value.columns.forEach((e=>{"Limnimetro"===e[0]&&z.ZP.generate({bindto:l.value,data:{x:"x",columns:[a.value.columns[0],e],type:(0,z.$y)()},axis:{x:{type:"timeseries",tick:{fit:!0,multiline:!1,autorotate:!0,rotate:25,format:"%e %b %y"}}}}),"Bateria"===e[0]&&z.ZP.generate({bindto:s.value,data:{x:"x",columns:[a.value.columns[0],e],type:(0,z.Nb)()},axis:{x:{type:"timeseries",tick:{fit:!0,multiline:!1,autorotate:!0,rotate:25,format:"%e %b %y"}}}}),"Temperatura"===e[0]&&z.ZP.generate({bindto:n.value,data:{x:"x",columns:[a.value.columns[0],e],type:(0,z.Kb)()},axis:{x:{type:"timeseries",tick:{fit:!0,multiline:!1,autorotate:!0,rotate:25,format:"%e %b %y"}}}}),"Humedad"===e[0]&&z.ZP.generate({bindto:r.value,data:{x:"x",columns:[a.value.columns[0],e],type:(0,z.$y)()},axis:{x:{type:"timeseries",tick:{fit:!0,multiline:!1,autorotate:!0,rotate:25,format:"%e %b %y"}}}}),"Probabilidad de lluvia"===e[0]&&z.ZP.generate({bindto:c.value,data:{x:"x",columns:[a.value.columns[0],e],type:(0,z.$y)()},axis:{x:{type:"timeseries",tick:{fit:!0,multiline:!1,autorotate:!0,rotate:25,format:"%e %b %y"}}}}),"Velocidad del viento"===e[0]&&z.ZP.generate({bindto:d.value,data:{x:"x",columns:[a.value.columns[0],e],type:(0,z.$y)()},axis:{x:{type:"timeseries",tick:{fit:!0,multiline:!1,autorotate:!0,rotate:25,format:"%e %b %y"}}}}),"Presión barometrica"===e[0]&&z.ZP.generate({bindto:m.value,data:{x:"x",columns:[a.value.columns[0],e],type:(0,z.$y)()},axis:{x:{type:"timeseries",tick:{fit:!0,multiline:!1,autorotate:!0,rotate:25,format:"%e %b %y"}}}}),"Radiacion solar"===e[0]&&z.ZP.generate({bindto:u.value,data:{x:"x",columns:[a.value.columns[0],e],type:(0,z.$y)()},axis:{x:{type:"timeseries",tick:{fit:!0,multiline:!1,autorotate:!0,rotate:25,format:"%e %b %y"}}}})})),p.value=!1};return{props:e,chart:o,mediciones:a,loading:p,limnimetroRef:l,bateriaRef:s,temperaturaRef:n,humedadRef:r,probLluviaRef:c,velocidadVientoRef:d,presionBarometricaRef:m,radiacionSolarRef:u}}});var S=t(151),T=t(5589),$=t(4765),E=t(7518),N=t.n(E);M.render=k,M.__scopeId="data-v-4fe79328";const L=M;N()(M,"components",{QCard:S.Z,QCardSection:T.Z,QSpinnerDots:$.Z})},4632:(e,a,t)=>{e.exports=t.p+"img/logoIPA.f38b8dd9.png"},2170:(e,a,t)=>{e.exports=t.p+"img/logo_politicas_hidricas.00b56c4d.png"}}]);